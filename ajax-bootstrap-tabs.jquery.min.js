(function($){$.fn.ajaxBootstrapTabs=function(options){var settings=$.extend({default_tab:null,tab_wrapper:"",tab:"",tab_active:"",tab_inactive:null,pane_wrapper:"",pane:"",pane_active:"",pane_inactive:null,link:""},options);var element=this;var previous_id=null;var position=$(window).scrollTop();if(!Boolean(settings.default_tab)){var default_tab=$(settings.pane_wrapper).find(settings.pane+":first-child").attr("id")}else{var default_tab=settings.default_tab.replace(/^\#/,"")}var change=function(id,history){position=$(window).scrollTop();history=history||true;id=id.replace(/^\#/,"");tab_wrapper=$(settings.tab_wrapper);if(!tab_wrapper.find(settings.tab+"[href$='#"+id+"']").length||!$(settings.pane_wrapper+" "+settings.pane+"#"+id).length){id=default_tab}if(!Boolean(settings.tab_inactive)){tab_wrapper.find(settings.tab).removeClass(settings.tab_active.replace(/^\./,""));tab_wrapper.find(settings.tab+"[href$='#"+id+"']").addClass(settings.tab_active.replace(/^\./,""))}else{tab_wrapper.find(settings.tab).removeClass(settings.tab_active.replace(/^\./,"")).addClass(settings.tab_inactive.replace(/^\./,""));tab_wrapper.find(settings.tab+"[href$='#"+id+"']").addClass(settings.tab_active.replace(/^\./,"")).removeClass(settings.tab_inactive.replace(/^\./,""))}if(!Boolean(settings.pane_inactive)){$(settings.pane_wrapper+" "+settings.pane+"#"+id).addClass(settings.pane_active.replace(/^\./,"")).siblings(settings.pane).removeClass(settings.pane_active.replace(/^\./,""))}else{$(settings.pane_wrapper+" "+settings.pane+"#"+id).removeClass(settings.pane_inactive.replace(/^\./,"")).addClass(settings.pane_active.replace(/^\./,"")).siblings(settings.pane).removeClass(settings.pane_active.replace(/^\./,"")).addClass(settings.pane_inactive.replace(/^\./,""))}if($(settings.pane_wrapper+" "+settings.pane+"#"+id).data("url")!==undefined){if(!$(settings.pane_wrapper+" "+settings.pane+"#"+id).html().length){$(settings.pane_wrapper+" "+settings.pane+"#"+id).append($("<div></div>").addClass("loading"));$.ajax({url:$(settings.pane_wrapper+" "+settings.pane+"#"+id).data("url"),async:true}).done(function(data){$(settings.pane_wrapper+" "+settings.pane+"#"+id).html(data)})}}if(Boolean(history)){previous_id=id;if(history.pushState){history.pushState("#"+id,null,"#"+id)}else{location.hash="#"+id}}$(element).trigger("ajaxbootstraptabs.change",[id]);$(window).scrollTop(position)};if(window.location.hash){change(window.location.hash)}else{change(default_tab)}window.location.hash="";if(window.history&&window.history.pushState){$(window).on("popstate",function(){if(location.hash.replace(/^\#/,"")!==previous_id){change(location.hash,false);$(window).scrollTop(position)}})}$(element).on("click",settings.tab_wrapper+" "+settings.tab,function(event){event.preventDefault();change($(this).attr("href"))});$(element).on("click",settings.link,function(event){event.preventDefault();change($(this).attr("href"))});return element}})(jQuery);